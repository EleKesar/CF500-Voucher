<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BRIXTON 500X VOUCHER</title>
    <link rel="stylesheet" href="./style.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
</head>
<body>
    <div id="app">
        <div class="wrapper">
            <img class="logo" src="./assets/brixton_colour_on_light.png" alt="">
            <h1>Συμπλήρωσε τα παρακατω πεδία <br>και κατεβασε το VOUCHER της έκπτωσης</h1>
            <form action="https://formsubmit.co/dimit.kle@gmail.com"
            target="_blank"
              method="POST"
              >
                <div class="form-group">
                    <label for="text">Ονομα</label>
                    <input type="text" name="Όνομα" v-model.lazy="name" @change="nameIsFilled = true" required>

                    <label for="text">Eπώνυμο</label>
                    <input type="text" name="Επώνυμο" v-model.lazy="surname"  @change="surnameIsFilled = true" required>
                   
                    <label for="email" >email</label>
                    <input type="email" name="email" placeholder="Email Address" v-model.lazy="email"  @change="emailIsFilled = true" required>
                    <input type="hidden" name="Voucher: " :value="ID">
                    <input type="hidden" name="_autoresponse" :value="'αριθμός Voucher:'+ID">

                </div>
                <button type="submit" class="btn" @click="makeID" >Submit</button>
            </form>
            <div class="resume" v-if="clicked">
                <span>Όνομα : {{name}} {{surname}}</span>
                <span>email : {{email}}</span>
                <span>id : {{ID}}</span>
                <p><strong>eimai to voucher</strong></p>
             </div>
        </div> 
    </div>
    <script>
        var app = new Vue({
  el: '#app',
  data: {
    name:'',
    nameIsFilled:false,
    surname:'',
    surnameIsFilled:false,
    email:'',
    emailIsFilled:false,
    clicked:false,
    ID:""
  },
  methods:{
      makeID: function (){
          console.log("clicked")
          if(this.nameIsFilled &&this.surnameIsFilled  && this.emailIsFilled){
            this.clicked = true
            var result           = '';
            var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789#!$%';
            var charactersLength = characters.length;
            for ( var i = 0; i < 16; i++ ) {
                 result += characters.charAt(Math.floor(Math.random() * 
             charactersLength));
                 }
            
            this.ID = result
            this.nameIsFilled = false
          }
       
        
      }
  }
  
})
    </script>
</body>
</html>